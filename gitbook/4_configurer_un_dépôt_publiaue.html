<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>Git Book - Configurer un Dépôt Publiaue</title>
	<meta http-equiv="content-language" content="en">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="icon" href="favicon.png" type="image/png">
	<link rel="stylesheet" href="assets/blueprint/screen.css" type="text/css" media="screen, projection">
  <link rel="stylesheet" href="assets/blueprint/print.css" type="text/css" media="print">
  <!--[if IE]><link rel="stylesheet" href="assets/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
	<link rel="stylesheet" href="assets/stylesheets/mac_classic.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="assets/stylesheets/style.css" type="text/css" media="screen, projection">
</head>

<body>
<div class="container chapter showgrids">

  <div class="span-21 header">
    <div class="nav"><a href="4_maintenir_git.html">Prev</a>  <a href="4_configurer_un_dépôt_privé.html">Next</a></div>
    <div class="title"><a href='index.html'>Git Community Book</a></div>
  </div>
  
  <div class="span-21">
    <br/>
  </div>
  
  <div class="span-21">
    <h2>Configurer un Dépôt Publiaue </h2>

<p>En supposant que vous avez votre dépôt personnel dans le dossier ~/proj,
nous allons créer un nouveau clone de ce dépôt et prévenir git-daemon qu'il
est destiné à être publique:</p>

<pre><code>$ git clone --bare ~/proj proj.git
$ touch proj.git/git-daemon-export-ok
</code></pre>

<p>Le dossier proj.git obtenu contient un dépôt git "nu" (bare)--il contient
juste le contenu du répertoire ".git", sans aucun autres fichiers récupérés
autour de ce dossier.</p>

<p>Ensuite, copiez proj.git sur le serveur où vous allez héberger votre
dépôt publique. Vous pouvez utiliser scp, rsync, ou ce qui vous convient
le plus.</p>

<h3>Exporter un dépôt git avec le protocole git </h3>

<p>C'est la méthode la plus utilisée.</p>

<p>Si quelqu'un d'autre s'occupe de l'administration de votre serveur, il devrait
vous indiquer dans quel répertoire mettre votre dépôt, et sur quelle adresse
git:// vous pourrez le récupérer.</p>

<p>Sinon, vous devez démarrer <a href="http://www.kernel.org/pub/software/scm/git/docs/git-daemon.html">git daemon</a>; il ecoutera le port 9418.
Par défaut, il autorise les accès à tout ce qui ressemble à un répertoire
git, et qui contient le fichier magique git-daemon-export-ok. Si vous
ajoutez le chemin de quelques dossiers en options de git-daemon,
il restreindra les exportation en ne tenant compte que de ces dossiers.</p>

<p>Vous pouvez aussi lancer git-daemon comme service inetd;
regardez le manuel de <a href="http://www.kernel.org/pub/software/scm/git/docs/git-daemon.html">git daemon</a>; (man git-daemon),
particulièrement les exemples, pour plus d'informations.</p>

<h3>Exporter un dépôt git par http </h3>

<p>Le protocole git est plus performant et plus fiable, mais sur un hébergeur
qui a déjà configuré son serveur web, l'exportation http peut être une
solution plus simple à mettre en place.</p>

<p>Tout ce que vous devez faire est de placer le dépôt git (bare) que
vous venez de créer dans un dossier qui est accessible depuis le serveur
web, et faire quelques ajustements pour donner au client web les
quelques informations additionnelles qu'il a besoin:</p>

<pre><code>$ mv proj.git /home/you/public_html/proj.git
$ cd proj.git
$ git --bare update-server-info
$ chmod a+x hooks/post-update
</code></pre>

<p>Pour plus d'explications sur ces 2 dernières lignes, regardez la
documentation de <a href="http://www.kernel.org/pub/software/scm/git/docs/git-update-server-info.html">git update-server-info</a> et <a href="http://www.kernel.org/pub/software/scm/git/docs/githooks.html">githooks</a>.</p>

<p>Il vous suffit ensuite de diffuser l'adresse de proj.git aux autres
développeurs. Tout le monde aura la possibilité de cloner ou de 
récupérer (pull) les changements du projet depuis cette adresse,
avec la commande suivante par exemple:</p>

<pre><code>$ git clone http://yourserver.com/~you/proj.git
</code></pre>


  </div>
  
  <div class="span-21">
    <hr/>
    <div class="center"><a href="4_maintenir_git.html">Prev</a>  <a href="4_configurer_un_dépôt_privé.html">Next</a></div>
    <hr/>
  </div>
  
  <div class="span-17 footer">
  	<div class="menu">
  		This book is maintained by Scott Chacon, and hosting is donated by GitHub.
  		<br>
  		Please email me at <a href="mailto:schacon@gmail.com">schacon@gmail.com</a>
  		with patches, suggestions and comments.
	  </div>
  </div>
  <div class="span-4 last center">
    <a href="http://github.com"><img src="assets/images/github.png" alt="github logo"></a>
  </div>
  
</div>

<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-82337-12");
pageTracker._initData();
pageTracker._trackPageview();
</script>
<script src="http://static.getclicky.com/40584.js" type="text/javascript"></script>
<noscript><p><img alt="Clicky" src="http://in.getclicky.com/40584-db6.gif" /></p></noscript>

</body>
</html>
